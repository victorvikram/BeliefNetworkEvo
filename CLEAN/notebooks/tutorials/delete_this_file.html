
    <!DOCTYPE html>
    <html>
    <head>
        <title>Correlation Network</title>
        <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
        <style type="text/css">
            #mynetwork {
                width: 100%;
                height: 800px;
                border: 1px solid lightgray;
            }
            #container {
                width: 100%;
                height: 100%;
            }
            #controls {
                padding: 10px;
                background-color: #f8f9fa;
                border-bottom: 1px solid #dee2e6;
            }
            .explanation {
                padding: 10px;
                margin: 10px 0;
                background-color: #e9ecef;
                border-radius: 4px;
            }
            .slider-container {
                margin: 10px 0;
                display: flex;
                align-items: center;
                gap: 10px;
            }
            label {
                display: inline-block;
                width: 200px;
            }
            .threshold-inputs {
                display: flex;
                align-items: center;
                gap: 10px;
            }
            input[type="number"] {
                width: 80px;
                padding: 5px;
            }
        </style>
    </head>
    <body>
        <div class="explanation">
            <h3>Network Visualization Guide</h3>
            <p><strong>Node Size:</strong> The size of each node (variable) represents the sum of all correlation strengths connected to that variable. 
               Larger nodes indicate variables that have stronger overall correlations with other variables.</p>
            <p><strong>Edge Thickness:</strong> The thickness of connections between nodes represents the strength of correlation between those variables.</p>
            <p><strong>Highlighting:</strong> Specified nodes are shown in red with bold labels</p>
            <p><strong>Controls:</strong> Use the correlation threshold slider to filter weak correlations, and the node distance slider to adjust the network layout.</p>
        </div>
        <div id="controls">
            <div class="slider-container">
                <label for="threshold">Correlation Threshold:</label>
                <div class="threshold-inputs">
                    <input type="range" min="0" max="100" value="5" id="threshold" style="width: 300px">
                    <input type="number" id="threshold-number" min="0" max="1" step="0.01" value="0.05" style="width: 80px">
                </div>
            </div>
            <div class="slider-container">
                <label for="node-distance">Node Distance:</label>
                <input type="range" min="50" max="300" value="150" id="node-distance" style="width: 300px">
                <span id="distance-value">150</span>
            </div>
        </div>
        <div id="mynetwork"></div>

        <script type="text/javascript">
            // Network data
            const nodes_data = [{"id": "CONLABOR", "label": "CONLABOR", "value": 0.15439764383372406, "title": "Variable: CONLABOR<br>Total Correlation Strength: 0.154"}, {"id": "NATARMS", "label": "NATARMS", "value": 0.147809501048346, "title": "Variable: NATARMS<br>Total Correlation Strength: 0.148"}, {"id": "COLATH", "label": "COLATH", "value": 0.8808780511932428, "title": "Variable: COLATH<br>Total Correlation Strength: 0.881"}, {"id": "NATEDUC", "label": "NATEDUC", "value": 0.206135740625462, "title": "Variable: NATEDUC<br>Total Correlation Strength: 0.206"}, {"id": "RACDIF2", "label": "RACDIF2", "value": 0.051122969615676334, "title": "Variable: RACDIF2<br>Total Correlation Strength: 0.051"}, {"id": "ABHLTH", "label": "ABHLTH", "value": 0.5109591416475259, "title": "Variable: ABHLTH<br>Total Correlation Strength: 0.511"}, {"id": "LIBMIL", "label": "LIBMIL", "value": 0.8659589213913528, "title": "Variable: LIBMIL<br>Total Correlation Strength: 0.866"}, {"id": "TEENSEX", "label": "TEENSEX", "value": 0.4598776477600725, "title": "Variable: TEENSEX<br>Total Correlation Strength: 0.460"}, {"id": "CONMEDIC", "label": "CONMEDIC", "value": 0.30522742372722644, "title": "Variable: CONMEDIC<br>Total Correlation Strength: 0.305"}, {"id": "CONCLERG", "label": "CONCLERG", "value": 0.13547014994552828, "title": "Variable: CONCLERG<br>Total Correlation Strength: 0.135"}, {"id": "SPKCOM", "label": "SPKCOM", "value": 0.9641585467761464, "title": "Variable: SPKCOM<br>Total Correlation Strength: 0.964"}, {"id": "CONSCI", "label": "CONSCI", "value": 0.32202317799330704, "title": "Variable: CONSCI<br>Total Correlation Strength: 0.322"}, {"id": "HELPBLK", "label": "HELPBLK", "value": 0.953748282904454, "title": "Variable: HELPBLK<br>Total Correlation Strength: 0.954"}, {"id": "ABRAPE", "label": "ABRAPE", "value": 0.7026750670834333, "title": "Variable: ABRAPE<br>Total Correlation Strength: 0.703"}, {"id": "SPKHOMO", "label": "SPKHOMO", "value": 0.857931657829585, "title": "Variable: SPKHOMO<br>Total Correlation Strength: 0.858"}, {"id": "OBEY", "label": "OBEY", "value": 0.8127420579008037, "title": "Variable: OBEY<br>Total Correlation Strength: 0.813"}, {"id": "CONEDUC", "label": "CONEDUC", "value": 0.18245836905277335, "title": "Variable: CONEDUC<br>Total Correlation Strength: 0.182"}, {"id": "ABANY", "label": "ABANY", "value": 0.8787121043471975, "title": "Variable: ABANY<br>Total Correlation Strength: 0.879"}, {"id": "ABPOOR", "label": "ABPOOR", "value": 0.9386977264469034, "title": "Variable: ABPOOR<br>Total Correlation Strength: 0.939"}, {"id": "NATCITY", "label": "NATCITY", "value": 0.08743657025436707, "title": "Variable: NATCITY<br>Total Correlation Strength: 0.087"}, {"id": "NATCRIME", "label": "NATCRIME", "value": 0.19853465887558597, "title": "Variable: NATCRIME<br>Total Correlation Strength: 0.199"}, {"id": "RACDIF4", "label": "RACDIF4", "value": 0.22076263151370046, "title": "Variable: RACDIF4<br>Total Correlation Strength: 0.221"}, {"id": "CONBUS", "label": "CONBUS", "value": 0.2412574551667462, "title": "Variable: CONBUS<br>Total Correlation Strength: 0.241"}, {"id": "GETAHEAD", "label": "GETAHEAD", "value": 0.0, "title": "Variable: GETAHEAD<br>Total Correlation Strength: 0.000"}, {"id": "NATSOC", "label": "NATSOC", "value": 0.06533157958460362, "title": "Variable: NATSOC<br>Total Correlation Strength: 0.065"}, {"id": "POSTLIFE", "label": "POSTLIFE", "value": 0.019508909819234997, "title": "Variable: POSTLIFE<br>Total Correlation Strength: 0.020"}, {"id": "TRUST", "label": "TRUST", "value": 0.2740515640083654, "title": "Variable: TRUST<br>Total Correlation Strength: 0.274"}, {"id": "POLMURDR", "label": "POLMURDR", "value": 0.08108712611691238, "title": "Variable: POLMURDR<br>Total Correlation Strength: 0.081"}, {"id": "SPKRAC", "label": "SPKRAC", "value": 0.8037643462640547, "title": "Variable: SPKRAC<br>Total Correlation Strength: 0.804"}, {"id": "LIBCOM", "label": "LIBCOM", "value": 1.1204932391926388, "title": "Variable: LIBCOM<br>Total Correlation Strength: 1.120"}, {"id": "FEPRESCH", "label": "FEPRESCH", "value": 0.4009430808157609, "title": "Variable: FEPRESCH<br>Total Correlation Strength: 0.401"}, {"id": "WRKWAYUP", "label": "WRKWAYUP", "value": 0.650558119056458, "title": "Variable: WRKWAYUP<br>Total Correlation Strength: 0.651"}, {"id": "FEFAM", "label": "FEFAM", "value": 0.7306548892440566, "title": "Variable: FEFAM<br>Total Correlation Strength: 0.731"}, {"id": "POLATTAK", "label": "POLATTAK", "value": 0.245822174507644, "title": "Variable: POLATTAK<br>Total Correlation Strength: 0.246"}, {"id": "ABSINGLE", "label": "ABSINGLE", "value": 1.0335359954628354, "title": "Variable: ABSINGLE<br>Total Correlation Strength: 1.034"}, {"id": "NATSCI", "label": "NATSCI", "value": 0.030756169035079134, "title": "Variable: NATSCI<br>Total Correlation Strength: 0.031"}, {"id": "LIBRAC", "label": "LIBRAC", "value": 0.7428614349945954, "title": "Variable: LIBRAC<br>Total Correlation Strength: 0.743"}, {"id": "NATMASS", "label": "NATMASS", "value": 0.0, "title": "Variable: NATMASS<br>Total Correlation Strength: 0.000"}, {"id": "SPKATH", "label": "SPKATH", "value": 0.833154279480836, "title": "Variable: SPKATH<br>Total Correlation Strength: 0.833"}, {"id": "SPKMIL", "label": "SPKMIL", "value": 0.902699196503525, "title": "Variable: SPKMIL<br>Total Correlation Strength: 0.903"}, {"id": "SUICIDE2", "label": "SUICIDE2", "value": 0.14248074912755038, "title": "Variable: SUICIDE2<br>Total Correlation Strength: 0.142"}, {"id": "COLRAC", "label": "COLRAC", "value": 0.7391225378074587, "title": "Variable: COLRAC<br>Total Correlation Strength: 0.739"}, {"id": "NATROAD", "label": "NATROAD", "value": 0.0, "title": "Variable: NATROAD<br>Total Correlation Strength: 0.000"}, {"id": "SEXEDUC", "label": "SEXEDUC", "value": 0.26970130785248436, "title": "Variable: SEXEDUC<br>Total Correlation Strength: 0.270"}, {"id": "SUICIDE1", "label": "SUICIDE1", "value": 0.7341525231089155, "title": "Variable: SUICIDE1<br>Total Correlation Strength: 0.734"}, {"id": "PREMARSX", "label": "PREMARSX", "value": 0.9197926275632904, "title": "Variable: PREMARSX<br>Total Correlation Strength: 0.920"}, {"id": "POLESCAP", "label": "POLESCAP", "value": 0.3362738553598853, "title": "Variable: POLESCAP<br>Total Correlation Strength: 0.336"}, {"id": "LIBATH", "label": "LIBATH", "value": 0.8641063902808873, "title": "Variable: LIBATH<br>Total Correlation Strength: 0.864"}, {"id": "NATFARE", "label": "NATFARE", "value": 0.22765085446602726, "title": "Variable: NATFARE<br>Total Correlation Strength: 0.228"}, {"id": "AFFRMACT", "label": "AFFRMACT", "value": 0.4023089369710433, "title": "Variable: AFFRMACT<br>Total Correlation Strength: 0.402"}, {"id": "COURTS", "label": "COURTS", "value": 0.009086055845504667, "title": "Variable: COURTS<br>Total Correlation Strength: 0.009"}, {"id": "FECHLD", "label": "FECHLD", "value": 0.36620956652852044, "title": "Variable: FECHLD<br>Total Correlation Strength: 0.366"}, {"id": "HOMOSEX", "label": "HOMOSEX", "value": 1.1715224549738776, "title": "Variable: HOMOSEX<br>Total Correlation Strength: 1.172"}, {"id": "PRAYER", "label": "PRAYER", "value": 0.16661516768074708, "title": "Variable: PRAYER<br>Total Correlation Strength: 0.167"}, {"id": "LIBHOMO", "label": "LIBHOMO", "value": 0.8687737483391856, "title": "Variable: LIBHOMO<br>Total Correlation Strength: 0.869"}, {"id": "CONFINAN", "label": "CONFINAN", "value": 0.4242884417781374, "title": "Variable: CONFINAN<br>Total Correlation Strength: 0.424"}, {"id": "EQWLTH", "label": "EQWLTH", "value": 0.43193664446551994, "title": "Variable: EQWLTH<br>Total Correlation Strength: 0.432"}, {"id": "SPANKING", "label": "SPANKING", "value": 0.03600356799922008, "title": "Variable: SPANKING<br>Total Correlation Strength: 0.036"}, {"id": "DIVLAW", "label": "DIVLAW", "value": 0.024127606749096215, "title": "Variable: DIVLAW<br>Total Correlation Strength: 0.024"}, {"id": "PARTYID", "label": "PARTYID", "value": 0.6094904536030892, "title": "Variable: PARTYID<br>Total Correlation Strength: 0.609"}, {"id": "XMARSEX", "label": "XMARSEX", "value": 0.2167849975041548, "title": "Variable: XMARSEX<br>Total Correlation Strength: 0.217"}, {"id": "NATDRUG", "label": "NATDRUG", "value": 0.2631650343137391, "title": "Variable: NATDRUG<br>Total Correlation Strength: 0.263"}, {"id": "THNKSELF", "label": "THNKSELF", "value": 0.500198274216047, "title": "Variable: THNKSELF<br>Total Correlation Strength: 0.500"}, {"id": "CONPRESS", "label": "CONPRESS", "value": 0.26658612097421525, "title": "Variable: CONPRESS<br>Total Correlation Strength: 0.267"}, {"id": "CONFED", "label": "CONFED", "value": 0.46814062133516166, "title": "Variable: CONFED<br>Total Correlation Strength: 0.468"}, {"id": "CAPPUN", "label": "CAPPUN", "value": 0.09671475589194864, "title": "Variable: CAPPUN<br>Total Correlation Strength: 0.097"}, {"id": "CONJUDGE", "label": "CONJUDGE", "value": 0.5277349835173389, "title": "Variable: CONJUDGE<br>Total Correlation Strength: 0.528"}, {"id": "ABNOMORE", "label": "ABNOMORE", "value": 1.0352157203516987, "title": "Variable: ABNOMORE<br>Total Correlation Strength: 1.035"}, {"id": "RACDIF1", "label": "RACDIF1", "value": 0.34297310991269736, "title": "Variable: RACDIF1<br>Total Correlation Strength: 0.343"}, {"id": "NATAID", "label": "NATAID", "value": 0.005379862806970417, "title": "Variable: NATAID<br>Total Correlation Strength: 0.005"}, {"id": "PORNLAW", "label": "PORNLAW", "value": 0.39927564184553793, "title": "Variable: PORNLAW<br>Total Correlation Strength: 0.399"}, {"id": "NATSPAC", "label": "NATSPAC", "value": 0.037704475546013166, "title": "Variable: NATSPAC<br>Total Correlation Strength: 0.038"}, {"id": "GUNLAW", "label": "GUNLAW", "value": 0.027619887182018, "title": "Variable: GUNLAW<br>Total Correlation Strength: 0.028"}, {"id": "POLVIEWS", "label": "POLVIEWS", "value": 0.36873644240680037, "title": "Variable: POLVIEWS<br>Total Correlation Strength: 0.369", "color": "#FF0000", "borderWidth": 3, "borderWidthSelected": 5, "font": {"size": 16, "face": "arial", "bold": true}}, {"id": "RACDIF3", "label": "RACDIF3", "value": 0.25415885790609505, "title": "Variable: RACDIF3<br>Total Correlation Strength: 0.254"}, {"id": "POLABUSE", "label": "POLABUSE", "value": 0.08108712611691238, "title": "Variable: POLABUSE<br>Total Correlation Strength: 0.081"}, {"id": "HELPFUL", "label": "HELPFUL", "value": 0.3118145294968649, "title": "Variable: HELPFUL<br>Total Correlation Strength: 0.312"}, {"id": "LETDIE1", "label": "LETDIE1", "value": 0.6020966565481434, "title": "Variable: LETDIE1<br>Total Correlation Strength: 0.602"}, {"id": "POPULAR", "label": "POPULAR", "value": 0.04433383617596434, "title": "Variable: POPULAR<br>Total Correlation Strength: 0.044"}, {"id": "NATENVIR", "label": "NATENVIR", "value": 0.19561339258200738, "title": "Variable: NATENVIR<br>Total Correlation Strength: 0.196"}, {"id": "FEPOL", "label": "FEPOL", "value": 0.10637942351585211, "title": "Variable: FEPOL<br>Total Correlation Strength: 0.106"}, {"id": "GRASS", "label": "GRASS", "value": 0.2496745773165858, "title": "Variable: GRASS<br>Total Correlation Strength: 0.250"}, {"id": "COLCOM", "label": "COLCOM", "value": 0.47489353342373736, "title": "Variable: COLCOM<br>Total Correlation Strength: 0.475"}, {"id": "HELPOTH", "label": "HELPOTH", "value": 0.2718627531777822, "title": "Variable: HELPOTH<br>Total Correlation Strength: 0.272"}, {"id": "ABDEFECT", "label": "ABDEFECT", "value": 0.8082759249217658, "title": "Variable: ABDEFECT<br>Total Correlation Strength: 0.808"}, {"id": "HELPNOT", "label": "HELPNOT", "value": 0.4821048878998236, "title": "Variable: HELPNOT<br>Total Correlation Strength: 0.482"}, {"id": "NATCHLD", "label": "NATCHLD", "value": 0.25946566627898526, "title": "Variable: NATCHLD<br>Total Correlation Strength: 0.259"}, {"id": "CONTV", "label": "CONTV", "value": 0.16475231281795083, "title": "Variable: CONTV<br>Total Correlation Strength: 0.165"}, {"id": "CONARMY", "label": "CONARMY", "value": 0.33452246131428626, "title": "Variable: CONARMY<br>Total Correlation Strength: 0.335"}, {"id": "POLHITOK", "label": "POLHITOK", "value": 0.2924833792678592, "title": "Variable: POLHITOK<br>Total Correlation Strength: 0.292"}, {"id": "CONLEGIS", "label": "CONLEGIS", "value": 0.7144116743515422, "title": "Variable: CONLEGIS<br>Total Correlation Strength: 0.714"}, {"id": "COLMIL", "label": "COLMIL", "value": 0.8689288255844124, "title": "Variable: COLMIL<br>Total Correlation Strength: 0.869"}, {"id": "WORKHARD", "label": "WORKHARD", "value": 0.22384877702150963, "title": "Variable: WORKHARD<br>Total Correlation Strength: 0.224"}, {"id": "NATPARK", "label": "NATPARK", "value": 0.014721226084738031, "title": "Variable: NATPARK<br>Total Correlation Strength: 0.015"}, {"id": "FAIR", "label": "FAIR", "value": 0.3860118624082565, "title": "Variable: FAIR<br>Total Correlation Strength: 0.386"}, {"id": "COLHOMO", "label": "COLHOMO", "value": 0.7608760159521284, "title": "Variable: COLHOMO<br>Total Correlation Strength: 0.761"}, {"id": "NATHEAL", "label": "NATHEAL", "value": 0.22918641665581319, "title": "Variable: NATHEAL<br>Total Correlation Strength: 0.229"}, {"id": "HELPPOOR", "label": "HELPPOOR", "value": 0.5795901542569454, "title": "Variable: HELPPOOR<br>Total Correlation Strength: 0.580"}, {"id": "PRESLAST_DEMREP", "label": "PRESLAST_DEMREP", "value": 1.0906753643413174, "title": "Variable: PRESLAST_DEMREP<br>Total Correlation Strength: 1.091"}, {"id": "PRESLAST_NONCONFORM", "label": "PRESLAST_NONCONFORM", "value": 0.0, "title": "Variable: PRESLAST_NONCONFORM<br>Total Correlation Strength: 0.000"}, {"id": "WOULDVOTELAST_NONCONFORM", "label": "WOULDVOTELAST_NONCONFORM", "value": 0.0002598414847351565, "title": "Variable: WOULDVOTELAST_NONCONFORM<br>Total Correlation Strength: 0.000"}, {"id": "DIDVOTELAST", "label": "DIDVOTELAST", "value": 0.0, "title": "Variable: DIDVOTELAST<br>Total Correlation Strength: 0.000"}, {"id": "RELIG_Protestant", "label": "RELIG_Protestant", "value": 0.7877816985071763, "title": "Variable: RELIG_Protestant<br>Total Correlation Strength: 0.788"}, {"id": "RELIG_Catholic", "label": "RELIG_Catholic", "value": 0.5664616786944314, "title": "Variable: RELIG_Catholic<br>Total Correlation Strength: 0.566"}, {"id": "RELIG_Jewish", "label": "RELIG_Jewish", "value": 0.0, "title": "Variable: RELIG_Jewish<br>Total Correlation Strength: 0.000"}, {"id": "RELIG_None", "label": "RELIG_None", "value": 0.5251979119700537, "title": "Variable: RELIG_None<br>Total Correlation Strength: 0.525"}, {"id": "RELIG_Other", "label": "RELIG_Other", "value": 0.0, "title": "Variable: RELIG_Other<br>Total Correlation Strength: 0.000"}, {"id": "RELIG_Buddhism", "label": "RELIG_Buddhism", "value": 0.0, "title": "Variable: RELIG_Buddhism<br>Total Correlation Strength: 0.000"}, {"id": "RELIG_Hinduism", "label": "RELIG_Hinduism", "value": 0.0, "title": "Variable: RELIG_Hinduism<br>Total Correlation Strength: 0.000"}, {"id": "RELIG_Other_eastern_religions", "label": "RELIG_Other_eastern_religions", "value": 0.0, "title": "Variable: RELIG_Other_eastern_religions<br>Total Correlation Strength: 0.000"}, {"id": "RELIG_Muslim", "label": "RELIG_Muslim", "value": 0.0, "title": "Variable: RELIG_Muslim<br>Total Correlation Strength: 0.000"}, {"id": "RELIG_Orthodox_christian", "label": "RELIG_Orthodox_christian", "value": 0.0, "title": "Variable: RELIG_Orthodox_christian<br>Total Correlation Strength: 0.000"}, {"id": "RELIG_Christian", "label": "RELIG_Christian", "value": 0.0, "title": "Variable: RELIG_Christian<br>Total Correlation Strength: 0.000"}, {"id": "RELIG_Native_american", "label": "RELIG_Native_american", "value": 0.0, "title": "Variable: RELIG_Native_american<br>Total Correlation Strength: 0.000"}, {"id": "RELIG_Inter_nondenominational", "label": "RELIG_Inter_nondenominational", "value": 0.0, "title": "Variable: RELIG_Inter_nondenominational<br>Total Correlation Strength: 0.000"}];
            const edges_data = [{"from": "CONLABOR", "to": "CONEDUC", "value": 0.019888598261764902, "title": "Correlation: 0.020"}, {"from": "CONLABOR", "to": "CONPRESS", "value": 0.0372585298111745, "title": "Correlation: 0.037"}, {"from": "CONLABOR", "to": "CONFED", "value": 0.05292956605653409, "title": "Correlation: 0.053"}, {"from": "CONLABOR", "to": "CONLEGIS", "value": 0.04432094970425059, "title": "Correlation: 0.044"}, {"from": "NATARMS", "to": "WRKWAYUP", "value": 0.02924491531980579, "title": "Correlation: 0.029"}, {"from": "NATARMS", "to": "CONARMY", "value": 0.04183005026691548, "title": "Correlation: 0.042"}, {"from": "NATARMS", "to": "PRESLAST_DEMREP", "value": 0.0641620949634689, "title": "Correlation: 0.064"}, {"from": "COLATH", "to": "SPKCOM", "value": 0.031036566543900482, "title": "Correlation: 0.031"}, {"from": "COLATH", "to": "SPKATH", "value": 0.17795294210919957, "title": "Correlation: 0.178"}, {"from": "COLATH", "to": "COLRAC", "value": 0.24812941301375124, "title": "Correlation: 0.248"}, {"from": "COLATH", "to": "COLMIL", "value": 0.18405096647522465, "title": "Correlation: 0.184"}, {"from": "COLATH", "to": "COLHOMO", "value": 0.06652470112525444, "title": "Correlation: 0.067"}, {"from": "NATEDUC", "to": "NATSOC", "value": 0.008052489904889328, "title": "Correlation: 0.008"}, {"from": "NATEDUC", "to": "NATDRUG", "value": 0.017494017996097764, "title": "Correlation: 0.017"}, {"from": "NATEDUC", "to": "NATENVIR", "value": 0.04649768902156911, "title": "Correlation: 0.046"}, {"from": "NATEDUC", "to": "NATCHLD", "value": 0.062244415843968524, "title": "Correlation: 0.062"}, {"from": "NATEDUC", "to": "NATHEAL", "value": 0.07184712785893727, "title": "Correlation: 0.072"}, {"from": "RACDIF2", "to": "RACDIF4", "value": 0.04568360966626443, "title": "Correlation: 0.046"}, {"from": "RACDIF2", "to": "FEFAM", "value": 0.005439359949411902, "title": "Correlation: 0.005"}, {"from": "ABHLTH", "to": "ABRAPE", "value": 0.21518621256592552, "title": "Correlation: 0.215"}, {"from": "ABHLTH", "to": "SEXEDUC", "value": 0.027360912926787752, "title": "Correlation: 0.027"}, {"from": "ABHLTH", "to": "SUICIDE1", "value": 0.00376785238480036, "title": "Correlation: 0.004"}, {"from": "ABHLTH", "to": "ABDEFECT", "value": 0.2646441637700122, "title": "Correlation: 0.265"}, {"from": "LIBMIL", "to": "LIBCOM", "value": 0.21741682675631943, "title": "Correlation: 0.217"}, {"from": "LIBMIL", "to": "LIBRAC", "value": 0.12746016297527193, "title": "Correlation: 0.127"}, {"from": "LIBMIL", "to": "LIBATH", "value": 0.1050168402954813, "title": "Correlation: 0.105"}, {"from": "LIBMIL", "to": "LIBHOMO", "value": 0.1485231113437889, "title": "Correlation: 0.149"}, {"from": "LIBMIL", "to": "COLCOM", "value": 0.0015724585240418688, "title": "Correlation: 0.002"}, {"from": "TEENSEX", "to": "PREMARSX", "value": 0.11734579585971043, "title": "Correlation: 0.117"}, {"from": "TEENSEX", "to": "HOMOSEX", "value": 0.021733832959291634, "title": "Correlation: 0.022"}, {"from": "TEENSEX", "to": "XMARSEX", "value": 0.16082277848957166, "title": "Correlation: 0.161"}, {"from": "TEENSEX", "to": "PORNLAW", "value": 0.07333080884121448, "title": "Correlation: 0.073"}, {"from": "TEENSEX", "to": "POLVIEWS", "value": 0.00974860144360631, "title": "Correlation: 0.010"}, {"from": "CONMEDIC", "to": "CONSCI", "value": 0.09509294603279865, "title": "Correlation: 0.095"}, {"from": "CONMEDIC", "to": "CONEDUC", "value": 0.07452890977648222, "title": "Correlation: 0.075"}, {"from": "CONMEDIC", "to": "CONBUS", "value": 0.012778516340208499, "title": "Correlation: 0.013"}, {"from": "CONMEDIC", "to": "CONFINAN", "value": 0.05826693453710382, "title": "Correlation: 0.058"}, {"from": "CONMEDIC", "to": "CONJUDGE", "value": 0.014263623248909047, "title": "Correlation: 0.014"}, {"from": "CONMEDIC", "to": "CONARMY", "value": 0.04258143095576943, "title": "Correlation: 0.043"}, {"from": "CONMEDIC", "to": "CONLEGIS", "value": 0.007715062835954799, "title": "Correlation: 0.008"}, {"from": "CONCLERG", "to": "CONEDUC", "value": 0.019275014435702873, "title": "Correlation: 0.019"}, {"from": "CONCLERG", "to": "CONBUS", "value": 0.004650611342107949, "title": "Correlation: 0.005"}, {"from": "CONCLERG", "to": "HOMOSEX", "value": 0.022228695758597542, "title": "Correlation: 0.022"}, {"from": "CONCLERG", "to": "CONLEGIS", "value": 0.019959508552984624, "title": "Correlation: 0.020"}, {"from": "SPKCOM", "to": "SPKHOMO", "value": 0.08245199219679157, "title": "Correlation: 0.082"}, {"from": "SPKCOM", "to": "SPKRAC", "value": 0.12382481730313542, "title": "Correlation: 0.124"}, {"from": "SPKCOM", "to": "SPKATH", "value": 0.18308625316748361, "title": "Correlation: 0.183"}, {"from": "SPKCOM", "to": "SPKMIL", "value": 0.1626378183684949, "title": "Correlation: 0.163"}, {"from": "SPKCOM", "to": "SUICIDE1", "value": 0.015089503937729851, "title": "Correlation: 0.015"}, {"from": "SPKCOM", "to": "PRAYER", "value": 0.0032068504489733024, "title": "Correlation: 0.003"}, {"from": "CONSCI", "to": "CONBUS", "value": 0.058132019660831064, "title": "Correlation: 0.058"}, {"from": "CONSCI", "to": "CONFINAN", "value": 0.029580848632441963, "title": "Correlation: 0.030"}, {"from": "CONSCI", "to": "CONJUDGE", "value": 0.13184807597707504, "title": "Correlation: 0.132"}, {"from": "CONSCI", "to": "CONLEGIS", "value": 0.007369287690160343, "title": "Correlation: 0.007"}, {"from": "HELPBLK", "to": "NATFARE", "value": 0.04775806102829729, "title": "Correlation: 0.048"}, {"from": "HELPBLK", "to": "AFFRMACT", "value": 0.19467717988371055, "title": "Correlation: 0.195"}, {"from": "HELPBLK", "to": "RACDIF1", "value": 0.11093163125519474, "title": "Correlation: 0.111"}, {"from": "HELPBLK", "to": "RACDIF3", "value": 0.04878520064550813, "title": "Correlation: 0.049"}, {"from": "HELPBLK", "to": "HELPNOT", "value": 0.0640340425843432, "title": "Correlation: 0.064"}, {"from": "HELPBLK", "to": "HELPPOOR", "value": 0.13126430920429144, "title": "Correlation: 0.131"}, {"from": "ABRAPE", "to": "ABANY", "value": 0.01710973487162597, "title": "Correlation: 0.017"}, {"from": "ABRAPE", "to": "ABPOOR", "value": 0.06658096172264187, "title": "Correlation: 0.067"}, {"from": "ABRAPE", "to": "ABSINGLE", "value": 0.034953231783253866, "title": "Correlation: 0.035"}, {"from": "ABRAPE", "to": "SEXEDUC", "value": 0.027679473089028028, "title": "Correlation: 0.028"}, {"from": "ABRAPE", "to": "SUICIDE1", "value": 0.010000265685297823, "title": "Correlation: 0.010"}, {"from": "ABRAPE", "to": "ABNOMORE", "value": 0.035746687913528974, "title": "Correlation: 0.036"}, {"from": "ABRAPE", "to": "LETDIE1", "value": 0.06602442869056505, "title": "Correlation: 0.066"}, {"from": "ABRAPE", "to": "ABDEFECT", "value": 0.21423960842953485, "title": "Correlation: 0.214"}, {"from": "SPKHOMO", "to": "SPKATH", "value": 0.11372688179067729, "title": "Correlation: 0.114"}, {"from": "SPKHOMO", "to": "SPKMIL", "value": 0.059052186431878796, "title": "Correlation: 0.059"}, {"from": "SPKHOMO", "to": "COLHOMO", "value": 0.3920138106468084, "title": "Correlation: 0.392"}, {"from": "OBEY", "to": "FEFAM", "value": 0.0037596367608020557, "title": "Correlation: 0.004"}, {"from": "OBEY", "to": "LIBATH", "value": 0.005580093614326074, "title": "Correlation: 0.006"}, {"from": "OBEY", "to": "HOMOSEX", "value": 0.06999631052017936, "title": "Correlation: 0.070"}, {"from": "OBEY", "to": "LIBHOMO", "value": 0.033048587524014794, "title": "Correlation: 0.033"}, {"from": "OBEY", "to": "SPANKING", "value": 0.014579523979572219, "title": "Correlation: 0.015"}, {"from": "CONEDUC", "to": "CONFED", "value": 0.022270780988756317, "title": "Correlation: 0.022"}, {"from": "CONEDUC", "to": "CONLEGIS", "value": 0.04649506559006706, "title": "Correlation: 0.046"}, {"from": "ABANY", "to": "ABPOOR", "value": 0.21331366858927459, "title": "Correlation: 0.213"}, {"from": "ABANY", "to": "ABSINGLE", "value": 0.27449027347190924, "title": "Correlation: 0.274"}, {"from": "ABANY", "to": "SUICIDE2", "value": 0.008326631523640078, "title": "Correlation: 0.008"}, {"from": "ABANY", "to": "SUICIDE1", "value": 0.02942605758443528, "title": "Correlation: 0.029"}, {"from": "ABANY", "to": "PRAYER", "value": 0.01813136507426904, "title": "Correlation: 0.018"}, {"from": "ABANY", "to": "ABNOMORE", "value": 0.24175396676127447, "title": "Correlation: 0.242"}, {"from": "ABANY", "to": "LETDIE1", "value": 0.0021187666241638554, "title": "Correlation: 0.002"}, {"from": "ABANY", "to": "ABDEFECT", "value": 0.02495551167362317, "title": "Correlation: 0.025"}, {"from": "ABPOOR", "to": "ABSINGLE", "value": 0.2862614666857208, "title": "Correlation: 0.286"}, {"from": "ABPOOR", "to": "SUICIDE2", "value": 0.022513790195987704, "title": "Correlation: 0.023"}, {"from": "ABPOOR", "to": "ABNOMORE", "value": 0.25107914723185243, "title": "Correlation: 0.251"}, {"from": "ABPOOR", "to": "LETDIE1", "value": 0.010904431015326356, "title": "Correlation: 0.011"}, {"from": "ABPOOR", "to": "ABDEFECT", "value": 0.027634348196749314, "title": "Correlation: 0.028"}, {"from": "NATCITY", "to": "NATCRIME", "value": 0.02001211321424365, "title": "Correlation: 0.020"}, {"from": "NATCITY", "to": "NATDRUG", "value": 0.0540503368952046, "title": "Correlation: 0.054"}, {"from": "NATCITY", "to": "NATCHLD", "value": 0.013374120144918815, "title": "Correlation: 0.013"}, {"from": "NATCRIME", "to": "NATDRUG", "value": 0.17852254566134232, "title": "Correlation: 0.179"}, {"from": "RACDIF4", "to": "WRKWAYUP", "value": 0.1390828031075168, "title": "Correlation: 0.139"}, {"from": "RACDIF4", "to": "HOMOSEX", "value": 0.00401891431848983, "title": "Correlation: 0.004"}, {"from": "CONBUS", "to": "CONFINAN", "value": 0.12270302676319624, "title": "Correlation: 0.123"}, {"from": "CONBUS", "to": "CONJUDGE", "value": 0.03194985733475037, "title": "Correlation: 0.032"}, {"from": "CONBUS", "to": "CONLEGIS", "value": 0.011043423725652129, "title": "Correlation: 0.011"}, {"from": "NATSOC", "to": "NATCHLD", "value": 0.017341422638797017, "title": "Correlation: 0.017"}, {"from": "NATSOC", "to": "NATHEAL", "value": 0.037966331529702704, "title": "Correlation: 0.038"}, {"from": "TRUST", "to": "HELPFUL", "value": 0.09992711554848686, "title": "Correlation: 0.100"}, {"from": "POLMURDR", "to": "POLABUSE", "value": 0.08108712611691238, "title": "Correlation: 0.081"}, {"from": "SPKRAC", "to": "SPKATH", "value": 0.14458124238651518, "title": "Correlation: 0.145"}, {"from": "SPKRAC", "to": "SPKMIL", "value": 0.10110187605637688, "title": "Correlation: 0.101"}, {"from": "SPKRAC", "to": "COLRAC", "value": 0.286219333064123, "title": "Correlation: 0.286"}, {"from": "LIBCOM", "to": "LIBRAC", "value": 0.14418442957300492, "title": "Correlation: 0.144"}, {"from": "LIBCOM", "to": "LIBATH", "value": 0.17466932498112192, "title": "Correlation: 0.175"}, {"from": "LIBCOM", "to": "HOMOSEX", "value": 0.0020370599256694486, "title": "Correlation: 0.002"}, {"from": "LIBCOM", "to": "LIBHOMO", "value": 0.13360367398968317, "title": "Correlation: 0.134"}, {"from": "LIBCOM", "to": "COLCOM", "value": 0.17056564929045287, "title": "Correlation: 0.171"}, {"from": "FEPRESCH", "to": "FEFAM", "value": 0.16763943170849746, "title": "Correlation: 0.168"}, {"from": "WRKWAYUP", "to": "CAPPUN", "value": 0.047440079161183, "title": "Correlation: 0.047"}, {"from": "WRKWAYUP", "to": "PRESLAST_DEMREP", "value": 0.004641573569674549, "title": "Correlation: 0.005"}, {"from": "FEFAM", "to": "PREMARSX", "value": 0.05565398679413576, "title": "Correlation: 0.056"}, {"from": "FEFAM", "to": "HOMOSEX", "value": 0.13598375798996215, "title": "Correlation: 0.136"}, {"from": "FEFAM", "to": "LIBHOMO", "value": 0.018341172901306355, "title": "Correlation: 0.018"}, {"from": "FEFAM", "to": "PORNLAW", "value": 0.006569807293504158, "title": "Correlation: 0.007"}, {"from": "FEFAM", "to": "FEPOL", "value": 0.10637942351585211, "title": "Correlation: 0.106"}, {"from": "POLATTAK", "to": "POLESCAP", "value": 0.15145856327069696, "title": "Correlation: 0.151"}, {"from": "POLATTAK", "to": "POLHITOK", "value": 0.09436361123694703, "title": "Correlation: 0.094"}, {"from": "ABSINGLE", "to": "SUICIDE2", "value": 0.03253684840576089, "title": "Correlation: 0.033"}, {"from": "ABSINGLE", "to": "SUICIDE1", "value": 0.01818340543239078, "title": "Correlation: 0.018"}, {"from": "ABSINGLE", "to": "PRAYER", "value": 0.013970029807400102, "title": "Correlation: 0.014"}, {"from": "ABSINGLE", "to": "ABNOMORE", "value": 0.29336558777250316, "title": "Correlation: 0.293"}, {"from": "ABSINGLE", "to": "LETDIE1", "value": 0.011768323956247884, "title": "Correlation: 0.012"}, {"from": "ABSINGLE", "to": "GRASS", "value": 8.260608425190202e-05, "title": "Correlation: 0.000"}, {"from": "ABSINGLE", "to": "ABDEFECT", "value": 0.02844163393495278, "title": "Correlation: 0.028"}, {"from": "NATSCI", "to": "NATSPAC", "value": 0.030756169035079134, "title": "Correlation: 0.031"}, {"from": "LIBRAC", "to": "LIBATH", "value": 0.22643882341234023, "title": "Correlation: 0.226"}, {"from": "LIBRAC", "to": "LIBHOMO", "value": 0.026089999370391588, "title": "Correlation: 0.026"}, {"from": "SPKATH", "to": "SPKMIL", "value": 0.09763246197890524, "title": "Correlation: 0.098"}, {"from": "SPKATH", "to": "SUICIDE1", "value": 0.004182458054231744, "title": "Correlation: 0.004"}, {"from": "SPKMIL", "to": "COLMIL", "value": 0.3023996248015769, "title": "Correlation: 0.302"}, {"from": "SUICIDE2", "to": "SUICIDE1", "value": 0.04030112904281839, "title": "Correlation: 0.040"}, {"from": "SUICIDE2", "to": "ABNOMORE", "value": 0.038802349959343306, "title": "Correlation: 0.039"}, {"from": "COLRAC", "to": "COLMIL", "value": 0.13412284951990194, "title": "Correlation: 0.134"}, {"from": "SEXEDUC", "to": "LETDIE1", "value": 0.01759689127209852, "title": "Correlation: 0.018"}, {"from": "SEXEDUC", "to": "NATENVIR", "value": 0.021904734528909457, "title": "Correlation: 0.022"}, {"from": "SEXEDUC", "to": "ABDEFECT", "value": 0.056346525713552545, "title": "Correlation: 0.056"}, {"from": "SUICIDE1", "to": "ABNOMORE", "value": 0.031786909616872146, "title": "Correlation: 0.032"}, {"from": "SUICIDE1", "to": "LETDIE1", "value": 0.30160789030723195, "title": "Correlation: 0.302"}, {"from": "SUICIDE1", "to": "GRASS", "value": 0.0320548508679878, "title": "Correlation: 0.032"}, {"from": "SUICIDE1", "to": "ABDEFECT", "value": 0.03511679425503534, "title": "Correlation: 0.035"}, {"from": "PREMARSX", "to": "HOMOSEX", "value": 0.16563664593643024, "title": "Correlation: 0.166"}, {"from": "PREMARSX", "to": "XMARSEX", "value": 0.01692173060037485, "title": "Correlation: 0.017"}, {"from": "PREMARSX", "to": "PORNLAW", "value": 0.10750448793468254, "title": "Correlation: 0.108"}, {"from": "PREMARSX", "to": "POLVIEWS", "value": 0.03212610859947473, "title": "Correlation: 0.032"}, {"from": "PREMARSX", "to": "RELIG_Protestant", "value": 0.043599707971038695, "title": "Correlation: 0.044"}, {"from": "POLESCAP", "to": "POLHITOK", "value": 0.18481529208918834, "title": "Correlation: 0.185"}, {"from": "LIBATH", "to": "HOMOSEX", "value": 0.027518541889235335, "title": "Correlation: 0.028"}, {"from": "LIBATH", "to": "LIBHOMO", "value": 0.12211645803373895, "title": "Correlation: 0.122"}, {"from": "LIBATH", "to": "PORNLAW", "value": 0.017591461949992473, "title": "Correlation: 0.018"}, {"from": "NATFARE", "to": "AFFRMACT", "value": 0.038245630856935324, "title": "Correlation: 0.038"}, {"from": "NATFARE", "to": "NATAID", "value": 0.005379862806970417, "title": "Correlation: 0.005"}, {"from": "NATFARE", "to": "HELPNOT", "value": 0.02055600512622368, "title": "Correlation: 0.021"}, {"from": "NATFARE", "to": "NATCHLD", "value": 0.02219458279279951, "title": "Correlation: 0.022"}, {"from": "NATFARE", "to": "HELPPOOR", "value": 0.07410296956123565, "title": "Correlation: 0.074"}, {"from": "AFFRMACT", "to": "RACDIF1", "value": 0.031283809517292246, "title": "Correlation: 0.031"}, {"from": "HOMOSEX", "to": "LIBHOMO", "value": 0.0692572674149332, "title": "Correlation: 0.069"}, {"from": "HOMOSEX", "to": "SPANKING", "value": 0.021424044019647866, "title": "Correlation: 0.021"}, {"from": "HOMOSEX", "to": "XMARSEX", "value": 0.039040488414208284, "title": "Correlation: 0.039"}, {"from": "HOMOSEX", "to": "PORNLAW", "value": 0.06115141171933252, "title": "Correlation: 0.061"}, {"from": "HOMOSEX", "to": "POLVIEWS", "value": 0.06493006708267904, "title": "Correlation: 0.065"}, {"from": "HOMOSEX", "to": "RELIG_Protestant", "value": 0.05139564963057242, "title": "Correlation: 0.051"}, {"from": "PRAYER", "to": "ABNOMORE", "value": 0.005575996175837957, "title": "Correlation: 0.006"}, {"from": "PRAYER", "to": "COLMIL", "value": 0.0012992020418020386, "title": "Correlation: 0.001"}, {"from": "CONFINAN", "to": "CONJUDGE", "value": 0.04736679909601463, "title": "Correlation: 0.047"}, {"from": "CONFINAN", "to": "CONARMY", "value": 0.09120597086333809, "title": "Correlation: 0.091"}, {"from": "CONFINAN", "to": "CONLEGIS", "value": 0.07516486188604268, "title": "Correlation: 0.075"}, {"from": "EQWLTH", "to": "PARTYID", "value": 0.02538072739260846, "title": "Correlation: 0.025"}, {"from": "EQWLTH", "to": "POLVIEWS", "value": 0.010885406441126007, "title": "Correlation: 0.011"}, {"from": "EQWLTH", "to": "PRESLAST_DEMREP", "value": 0.07107518182548325, "title": "Correlation: 0.071"}, {"from": "PARTYID", "to": "POLVIEWS", "value": 0.06229845824566642, "title": "Correlation: 0.062"}, {"from": "PARTYID", "to": "PRESLAST_DEMREP", "value": 0.4779008669978704, "title": "Correlation: 0.478"}, {"from": "NATDRUG", "to": "NATCHLD", "value": 0.013098133761094425, "title": "Correlation: 0.013"}, {"from": "CONPRESS", "to": "CONTV", "value": 0.16473062641909192, "title": "Correlation: 0.165"}, {"from": "CONPRESS", "to": "CONLEGIS", "value": 0.06459696474394883, "title": "Correlation: 0.065"}, {"from": "CONFED", "to": "CONJUDGE", "value": 0.10958830470691872, "title": "Correlation: 0.110"}, {"from": "CONFED", "to": "CONARMY", "value": 0.06466079939626422, "title": "Correlation: 0.065"}, {"from": "CONFED", "to": "CONLEGIS", "value": 0.21869117018668832, "title": "Correlation: 0.219"}, {"from": "CAPPUN", "to": "PRESLAST_DEMREP", "value": 0.008065409578044962, "title": "Correlation: 0.008"}, {"from": "CONJUDGE", "to": "CONARMY", "value": 0.03396441997436818, "title": "Correlation: 0.034"}, {"from": "CONJUDGE", "to": "CONLEGIS", "value": 0.15875390317930296, "title": "Correlation: 0.159"}, {"from": "ABNOMORE", "to": "GRASS", "value": 0.011166194334448704, "title": "Correlation: 0.011"}, {"from": "ABNOMORE", "to": "ABDEFECT", "value": 0.05820465561764645, "title": "Correlation: 0.058"}, {"from": "RACDIF1", "to": "RACDIF3", "value": 0.11341578795935656, "title": "Correlation: 0.113"}, {"from": "GUNLAW", "to": "HELPNOT", "value": 0.027619887182018, "title": "Correlation: 0.028"}, {"from": "POLVIEWS", "to": "PRESLAST_DEMREP", "value": 0.15764409024968512, "title": "Correlation: 0.158"}, {"from": "LETDIE1", "to": "GRASS", "value": 0.013507306150577849, "title": "Correlation: 0.014"}, {"from": "LETDIE1", "to": "ABDEFECT", "value": 0.09005397606326013, "title": "Correlation: 0.090"}, {"from": "NATENVIR", "to": "NATPARK", "value": 0.005549222986802079, "title": "Correlation: 0.006"}, {"from": "NATENVIR", "to": "NATHEAL", "value": 0.07225022912543914, "title": "Correlation: 0.072"}, {"from": "HELPNOT", "to": "HELPPOOR", "value": 0.19052590293361166, "title": "Correlation: 0.191"}, {"from": "NATCHLD", "to": "NATPARK", "value": 0.009172003097935953, "title": "Correlation: 0.009"}, {"from": "NATCHLD", "to": "NATHEAL", "value": 0.04221730839576724, "title": "Correlation: 0.042"}, {"from": "CONTV", "to": "CONLEGIS", "value": 2.168639885891802e-05, "title": "Correlation: 0.000"}, {"from": "CONARMY", "to": "CONLEGIS", "value": 0.060279789857630904, "title": "Correlation: 0.060"}, {"from": "COLMIL", "to": "COLHOMO", "value": 0.034670647457585205, "title": "Correlation: 0.035"}, {"from": "PRESLAST_DEMREP", "to": "WOULDVOTELAST_NONCONFORM", "value": 0.0002598414847351565, "title": "Correlation: 0.000"}];
            
            // Create a DataSet for nodes and edges
            const nodes = new vis.DataSet(nodes_data);
            const edges = new vis.DataSet(edges_data);
            
            // Create network data
            const data = {
                nodes: nodes,
                edges: edges
            };
            
            // Network options
            const options = {
                nodes: {
                    shape: 'dot',
                    scaling: {
                        min: 10,
                        max: 30,
                        label: {
                            enabled: true,
                            min: 14,
                            max: 30,
                            maxVisible: 30,
                            drawThreshold: 5
                        }
                    },
                    font: {
                        size: 12,
                        face: 'Arial'
                    }
                },
                edges: {
                    width: 0.15,
                    color: { inherit: 'both' },
                    smooth: {
                        type: 'continuous'
                    },
                    scaling: {
                        min: 1,
                        max: 5
                    }
                },
                physics: {
                    barnesHut: {
                        gravitationalConstant: -80000,
                        centralGravity: 0.3,
                        springLength: 150,
                        springConstant: 0.04,
                        damping: 0.09,
                        avoidOverlap: 0.1
                    },
                    maxVelocity: 50,
                    minVelocity: 0.1,
                    solver: 'barnesHut',
                    stabilization: {
                        enabled: true,
                        iterations: 1000,
                        updateInterval: 100
                    },
                    timestep: 0.5,
                    adaptiveTimestep: true
                }
            };
            
            // Create network
            const container = document.getElementById('mynetwork');
            const network = new vis.Network(container, data, options);
            
            // Initialize network with default threshold of 0.05
            updateNetwork(0.05);
            
            // Threshold controls
            const thresholdSlider = document.getElementById('threshold');
            const thresholdNumber = document.getElementById('threshold-number');
            
            function updateNetwork(threshold) {
                // Filter edges based on threshold
                const filteredEdges = edges_data.filter(edge => edge.value >= threshold);
                edges.clear();
                edges.add(filteredEdges);
                
                // Update node values based on visible connections
                const nodeConnections = {};
                filteredEdges.forEach(edge => {
                    nodeConnections[edge.from] = (nodeConnections[edge.from] || 0) + 1;
                    nodeConnections[edge.to] = (nodeConnections[edge.to] || 0) + 1;
                });
                
                const updatedNodes = nodes_data.map(node => ({
                    ...node,
                    value: nodeConnections[node.id] || 0,
                    title: `Variable: ${node.id}<br>Connections: ${nodeConnections[node.id] || 0}`
                }));
                
                nodes.clear();
                nodes.add(updatedNodes);
            }
            
            // Sync slider and number input
            thresholdSlider.oninput = function() {
                const threshold = this.value / 100;
                thresholdNumber.value = threshold.toFixed(2);
                updateNetwork(threshold);
            };
            
            thresholdNumber.oninput = function() {
                const threshold = parseFloat(this.value);
                if (!isNaN(threshold) && threshold >= 0 && threshold <= 1) {
                    thresholdSlider.value = threshold * 100;
                    updateNetwork(threshold);
                }
            };
            
            // Node distance slider functionality
            const distanceSlider = document.getElementById('node-distance');
            const distanceValue = document.getElementById('distance-value');
            
            distanceSlider.oninput = function() {
                const distance = parseInt(this.value);
                distanceValue.textContent = distance;
                
                network.setOptions({
                    physics: {
                        barnesHut: {
                            springLength: distance
                        }
                    }
                });
            };
        </script>
    </body>
    </html>
    